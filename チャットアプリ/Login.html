<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Firebase_version9_RealtimeDB(G'sACADEMY初学者用サンプル)</title>
</head>

<body>
    <!-- Loginボタン -->
    <div class="flex justify-center items-center w-full h-screen bg-blue-300">
      <button id="login" class="w-32 h-16 text-orange-200 bg-gray-700 hover:text-white">LOGIN</button>
  </div>
  <!-- JQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- JQuery -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
    import { getDatabase, ref, push, set, onChildAdded, remove,onChildRemoved } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js";
    import {
      getAuth,
      signInWithPopup,
      GoogleAuthProvider,
      signOut,
      onAuthStateChanged,
            }
  
    from "https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js";
    const firebaseConfig = {apiKey: "AIzaSyDjyJvho-y-asKbsxNH-bG2BnYUmOjyivI",
            authDomain: "dev245-76f99.firebaseapp.com",
            projectId: "dev245-76f99",
            storageBucket: "dev245-76f99.appspot.com",
             messagingSenderId: "1063949793636",
            appId: "1:1063949793636:web:2bde15c8a1894880336271"
      };
          const app = initializeApp(firebaseConfig);
          const db =getDatabase(app);
          const provider = new GoogleAuthProvider();
          provider.addScope('https://www.googleapis.com/auth/contacts.readonly');
          const auth = getAuth();
          $("#login").on("click", function () {
          signInWithPopup(auth, provider).then((result) => {
            //OKの時の移動先
                  location.href = "simple2.html";  
                  console.log('ログイン成功');
              }).catch((error) => {
                console.log('ログイン失敗');
                  const errorCode = error.code;
                  const errorMessage = error.message;
                  const email = error.email;
                  const credential = GoogleAuthProvider.credentialFromError(error);
                  // ...
              });
          });
  </script>
  </body>
  </html>